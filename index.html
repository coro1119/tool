<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>테슬라번 (Teslaburn) — 테슬라 & AI 리서치</title>
    
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@400;700&family=Pretendard:wght@400;600;800&display=swap" rel="stylesheet">
    
    <!-- Rich Text Editor (Quill) -->
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</head>
<body data-theme="dark">
    <!-- 상단 내비게이션 -->
    <header class="main-header">
        <div class="container nav-wrapper">
            <h1 class="logo" data-page="home">Teslaburn<span>Research</span></h1>
            <nav>
                <ul class="nav-links">
                    <li><a href="#" class="active" data-page="home">전체글</a></li>
                    <li><a href="#" data-page="admin-login">관리자</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main id="app" class="container main-layout">
        <!-- 1. 블로그 리스트 (티스토리 홈 스타일) -->
        <section id="home-view" class="view active">
            <div class="list-header">
                <h2>최신 리서치</h2>
                <div class="category-chips">
                    <button class="chip active">전체</button>
                    <button class="chip">테슬라</button>
                    <button class="chip">AI/로봇</button>
                    <button class="chip">에너지</button>
                </div>
            </div>
            
            <div id="main-post-list" class="tistory-list">
                <!-- 포스트 목록이 동적으로 렌더링됨 -->
            </div>
        </section>

        <!-- 2. 포스트 상세 보기 (티스토리 본문 스타일) -->
        <section id="post-view" class="view">
            <article class="post-detail-container">
                <header class="post-detail-header">
                    <span id="post-meta-cat" class="category-tag">CATEGORY</span>
                    <h2 id="post-title">포스트 제목</h2>
                    <div class="post-info">
                        <span id="post-date">2026. 02. 26</span>
                        <span class="author">by Teslaburn</span>
                    </div>
                </header>
                
                <div id="post-content" class="post-content-body">
                    <!-- 본문 내용 -->
                </div>

                <!-- 중요: 글 하단에 계산기가 바로 삽입됨 -->
                <div id="embedded-calc-area" class="embedded-calc-section" style="display: none;">
                    <div class="calc-label">DATA ANALYSIS TOOL</div>
                    <h3 id="calc-title">계산기 이름</h3>
                    <div id="calc-inputs" class="calc-inputs-grid">
                        <!-- 입력 필드 -->
                    </div>
                    <button id="run-calc" class="action-btn">데이터 분석 실행</button>
                    
                    <div id="calc-results-area" class="calc-results-wrapper">
                        <div id="calc-results" class="results-list"></div>
                        <div class="chart-container">
                            <canvas id="calc-chart"></canvas>
                        </div>
                    </div>
                </div>
            </article>
        </section>

        <!-- 3. 관리자 로그인 -->
        <section id="admin-login-view" class="view">
            <div class="admin-box">
                <h3>Admin Login</h3>
                <input type="password" id="admin-password" placeholder="Password">
                <button id="login-btn" class="action-btn">접속</button>
            </div>
        </section>

        <!-- 4. 관리자 대시보드 -->
        <section id="admin-dashboard-view" class="view">
            <div class="dash-header">
                <h2>글 관리</h2>
                <button id="go-to-new-post" class="action-btn small">+ 새 글 쓰기</button>
            </div>
            <div class="table-wrapper">
                <table class="admin-table">
                    <thead>
                        <tr><th>제목</th><th>날짜</th><th>관리</th></tr>
                    </thead>
                    <tbody id="admin-post-list"></tbody>
                </table>
            </div>
        </section>

        <!-- 5. 글 쓰기/수정 에디터 -->
        <section id="admin-editor-view" class="view">
            <div class="editor-top">
                <input type="text" id="post-title-input" class="title-input" placeholder="제목을 입력하세요">
                <div class="editor-ctrls">
                    <button id="save-post-btn" class="action-btn">발행</button>
                    <button class="back-btn secondary-btn">취소</button>
                </div>
            </div>
            <div class="editor-options-grid">
                <select id="post-category-input">
                    <option value="테슬라">테슬라</option>
                    <option value="AI/로봇">AI/로봇</option>
                    <option value="에너지">에너지</option>
                </select>
                <select id="post-calc-input">
                    <option value="none">연결할 계산기 없음</option>
                    <option value="salary">연봉 실수령액</option>
                    <option value="car-vs-taxi">테슬라 vs 택시</option>
                    <option value="coin-tax">코인 과세</option>
                    <option value="son-salary">손흥민 vs 나</option>
                </select>
                <input type="text" id="post-thumb-input" placeholder="썸네일 이미지 URL">
            </div>
            <div id="quill-editor" style="height: 600px;"></div>
        </section>
    </main>

    <footer class="main-footer">
        <p>&copy; 2026 Teslaburn Research. All Rights Reserved.</p>
    </footer>

    <script src="main.js?v=3"></script>
</body>
</html>